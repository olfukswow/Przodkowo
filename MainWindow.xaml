<Window x:Class="ToDo.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ToDo" Height="450" Width="600">
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="8"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <DockPanel Grid.Row="0" LastChildFill="True">
            <TextBox x:Name="NewTaskTextBox" MinWidth="200" Margin="0,0,8,0"
                     VerticalContentAlignment="Center"
                     KeyDown="NewTaskTextBox_KeyDown"
                     ToolTip="Wpisz treść zadania i naciśnij Enter lub Dodaj"/>
            <Button Content="Dodaj" Click="AddButton_Click" Width="80"/>
        </DockPanel>

        <ListBox x:Name="TasksListBox" Grid.Row="2" BorderThickness="1" Padding="4">
            <ListBox.ItemTemplate>
                <DataTemplate>
                    <Border Padding="6" Margin="0,0,0,6" CornerRadius="4" Background="#FFF7F7F7">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="8"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="8"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <CheckBox IsChecked="{Binding IsDone, Mode=TwoWay}" VerticalAlignment="Center"/>
                            <TextBlock Grid.Column="2" Text="{Binding Text}" VerticalAlignment="Center" TextWrapping="Wrap">
                                <TextBlock.Style>
                                    <Style TargetType="TextBlock">
                                        <Setter Property="Foreground" Value="Black"/>
                                        <Setter Property="TextDecorations" Value="{x:Null}"/>
                                        <Style.Triggers>
                                            <DataTrigger Binding="{Binding IsDone}" Value="True">
                                                <Setter Property="Foreground" Value="Gray"/>
                                                <Setter Property="TextDecorations" Value="Strikethrough"/>
                                            </DataTrigger>
                                        </Style.Triggers>
                                    </Style>
                                </TextBlock.Style>
                            </TextBlock>

                            <Button Grid.Column="4" Content="Usuń" Click="DeleteButton_Click" Padding="6,2" />
                        </Grid>
                    </Border>
                </DataTemplate>
            </ListBox.ItemTemplate>
        </ListBox>
    </Grid>
</Window>
